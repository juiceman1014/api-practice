<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
  </head>
  <body>
    <img id = "image" src="#" />
    <button id ="new-image">click here for a new image!</button>
    <input type ="text" id ="search-bar" placeholder ="Search...">

    <script>
      const img = document.getElementById("image");

      const newImgBtn = document.getElementById("new-image")
      newImgBtn.addEventListener("click", fetchData);

      const searchBar = document.getElementById("search-bar");

      let userChoice = "naruto";

      searchBar.addEventListener("keydown", event => {
        if(event.key === "Enter"){
          userChoice = searchBar.value;
        }
      });

      function fetchData(){
      fetch(
        `https://api.giphy.com/v1/gifs/translate?api_key=GYfcaPsJBQrP20VZPxqMRAY38fRd9eBP&s=${userChoice}`,
        { mode: "cors" },
      )
        .then(function (response) {
          return response.json();
        })
        .then(function (response) {
          img.src = response.data.images.original.url;
        });
      }
      
      fetchData();
    </script>
  </body>
</html>
